# Generated by Django 5.0.1 on 2026-01-21 19:50

import django.contrib.postgres.fields
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Encuesta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=200)),
                ('descripcion', models.TextField(blank=True)),
                ('tipo', models.CharField(choices=[('satisfaccion_curso', 'Satisfacción del Curso'), ('evaluacion_relator', 'Evaluación del Relator'), ('experiencia_plataforma', 'Experiencia en la Plataforma')], max_length=50)),
                ('preguntas', models.JSONField()),
                ('activa', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Encuesta',
                'verbose_name_plural': 'Encuestas',
                'db_table': 'encuestas',
            },
        ),
        migrations.CreateModel(
            name='Leccion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=200)),
                ('descripcion', models.TextField(blank=True)),
                ('objetivos', models.TextField(blank=True)),
                ('orden', models.IntegerField()),
                ('duracion_minutos', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('tipo', models.CharField(choices=[('teorica', 'Teórica'), ('practica', 'Práctica'), ('evaluacion', 'Evaluación'), ('mixta', 'Mixta')], default='teorica', max_length=50)),
                ('publicado', models.BooleanField(default=False)),
                ('obligatoria', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Lección',
                'verbose_name_plural': 'Lecciones',
                'db_table': 'lecciones',
                'ordering': ['orden'],
            },
        ),
        migrations.CreateModel(
            name='PlantillaDiploma',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=200)),
                ('descripcion', models.TextField(blank=True)),
                ('plantilla_html', models.TextField()),
                ('variables_disponibles', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=100), blank=True, default=list, size=None)),
                ('firma_director_url', models.URLField(blank=True, max_length=500)),
                ('firma_relator_incluida', models.BooleanField(default=True)),
                ('activa', models.BooleanField(default=True)),
                ('predeterminada', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Plantilla de Diploma',
                'verbose_name_plural': 'Plantillas de Diplomas',
                'db_table': 'plantillas_diploma',
            },
        ),
        migrations.CreateModel(
            name='CodigoSence',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('codigo', models.CharField(max_length=10, unique=True)),
                ('nombre_curso', models.CharField(max_length=300)),
                ('horas_totales', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('horas_asignadas', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('fecha_inicio_vigencia', models.DateField()),
                ('fecha_fin_vigencia', models.DateField()),
                ('estado', models.CharField(choices=[('activo', 'Activo'), ('caducado', 'Caducado'), ('suspendido', 'Suspendido')], default='activo', max_length=20)),
                ('area_tematica', models.CharField(blank=True, max_length=100)),
                ('nivel', models.CharField(blank=True, max_length=50)),
                ('modalidad', models.CharField(blank=True, max_length=50)),
                ('linea_capacitacion', models.IntegerField(choices=[(1, 'Programas Sociales'), (3, 'Franquicia Tributaria')], default=3)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Código SENCE',
                'verbose_name_plural': 'Códigos SENCE',
                'db_table': 'codigos_sence',
                'indexes': [models.Index(fields=['codigo'], name='codigos_sen_codigo_9a12db_idx'), models.Index(fields=['estado'], name='codigos_sen_estado_ce1ace_idx'), models.Index(fields=['area_tematica'], name='codigos_sen_area_te_8ee37f_idx')],
            },
        ),
        migrations.CreateModel(
            name='Curso',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=300)),
                ('descripcion', models.TextField(blank=True)),
                ('objetivos', models.TextField(blank=True)),
                ('requisitos', models.TextField(blank=True)),
                ('codigo_sence_curso', models.CharField(max_length=50, unique=True)),
                ('horas_totales', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('duracion_semanas', models.IntegerField(blank=True, null=True)),
                ('fecha_inicio', models.DateField(blank=True, null=True)),
                ('fecha_fin', models.DateField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('borrador', 'Borrador'), ('activo', 'Activo'), ('archivado', 'Archivado'), ('cancelado', 'Cancelado')], default='borrador', max_length=20)),
                ('publicado', models.BooleanField(default=False)),
                ('nota_aprobacion', models.DecimalField(decimal_places=2, default=4.0, max_digits=3, validators=[django.core.validators.MinValueValidator(1.0), django.core.validators.MaxValueValidator(7.0)])),
                ('porcentaje_asistencia_minimo', models.IntegerField(default=75, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('cupo_maximo', models.IntegerField(blank=True, null=True)),
                ('cupo_minimo', models.IntegerField(blank=True, null=True)),
                ('imagen_portada', models.URLField(blank=True, max_length=500)),
                ('video_presentacion', models.URLField(blank=True, max_length=500)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('codigo_sence', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.RESTRICT, related_name='cursos', to='api_lms.codigosence')),
            ],
            options={
                'verbose_name': 'Curso',
                'verbose_name_plural': 'Cursos',
                'db_table': 'cursos',
            },
        ),
        migrations.CreateModel(
            name='Evaluacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=300)),
                ('descripcion', models.TextField(blank=True)),
                ('instrucciones', models.TextField(blank=True)),
                ('tipo', models.CharField(choices=[('diagnostica', 'Diagnóstica'), ('formativa', 'Formativa'), ('sumativa', 'Sumativa'), ('final', 'Final')], max_length=20)),
                ('tiempo_limite_minutos', models.IntegerField(default=80)),
                ('intentos_permitidos', models.IntegerField(default=2, validators=[django.core.validators.MinValueValidator(1)])),
                ('nota_aprobacion', models.DecimalField(decimal_places=2, default=4.0, max_digits=3)),
                ('peso_porcentaje', models.DecimalField(decimal_places=2, default=0.0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('requiere_seb', models.BooleanField(default=False)),
                ('orden', models.IntegerField(blank=True, null=True)),
                ('disponible_desde', models.DateTimeField(blank=True, null=True)),
                ('disponible_hasta', models.DateTimeField(blank=True, null=True)),
                ('publicada', models.BooleanField(default=False)),
                ('correccion_automatica', models.BooleanField(default=True)),
                ('requiere_validacion_relator', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('curso', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='evaluaciones', to='api_lms.curso')),
            ],
            options={
                'verbose_name': 'Evaluación',
                'verbose_name_plural': 'Evaluaciones',
                'db_table': 'evaluaciones',
            },
        ),
        migrations.CreateModel(
            name='Inscripcion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_inscripcion', models.DateTimeField(auto_now_add=True)),
                ('fecha_inicio_real', models.DateTimeField(blank=True, null=True)),
                ('fecha_fin_real', models.DateTimeField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('inscrito', 'Inscrito'), ('en_curso', 'En Curso'), ('completado', 'Completado'), ('aprobado', 'Aprobado'), ('reprobado', 'Reprobado'), ('retirado', 'Retirado'), ('suspendido', 'Suspendido')], default='inscrito', max_length=20)),
                ('nota_final', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True, validators=[django.core.validators.MinValueValidator(1.0), django.core.validators.MaxValueValidator(7.0)])),
                ('porcentaje_avance', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('porcentaje_asistencia', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('tiempo_total_minutos', models.IntegerField(default=0)),
                ('encuesta_completada', models.BooleanField(default=False)),
                ('fecha_encuesta_completada', models.DateTimeField(blank=True, null=True)),
                ('diploma_generado', models.BooleanField(default=False)),
                ('diploma_url', models.URLField(blank=True, max_length=500)),
                ('diploma_codigo_validacion', models.CharField(blank=True, max_length=20)),
                ('fecha_diploma', models.DateTimeField(blank=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('curso', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inscripciones', to='api_lms.curso')),
            ],
            options={
                'verbose_name': 'Inscripción',
                'verbose_name_plural': 'Inscripciones',
                'db_table': 'inscripciones',
            },
        ),
        migrations.CreateModel(
            name='IntentoEvaluacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_intento', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('fecha_inicio', models.DateTimeField(default=django.utils.timezone.now)),
                ('fecha_fin', models.DateTimeField(blank=True, null=True)),
                ('duracion_minutos', models.IntegerField(blank=True, null=True)),
                ('puntaje_obtenido', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('puntaje_total', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('nota_obtenida', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('aprobado', models.BooleanField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('en_progreso', 'En Progreso'), ('completado', 'Completado'), ('abandonado', 'Abandonado'), ('tiempo_excedido', 'Tiempo Excedido')], default='en_progreso', max_length=20)),
                ('validado_automaticamente', models.BooleanField(default=False)),
                ('validado_por_relator', models.BooleanField(default=False)),
                ('fecha_validacion', models.DateTimeField(blank=True, null=True)),
                ('comentarios_relator', models.TextField(blank=True)),
                ('seb_detectado', models.BooleanField(default=False)),
                ('seb_config_hash', models.CharField(blank=True, max_length=64)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('evaluacion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='intentos', to='api_lms.evaluacion')),
                ('inscripcion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='intentos_evaluacion', to='api_lms.inscripcion')),
            ],
            options={
                'verbose_name': 'Intento de Evaluación',
                'verbose_name_plural': 'Intentos de Evaluaciones',
                'db_table': 'intentos_evaluacion',
            },
        ),
        migrations.CreateModel(
            name='ForoConsulta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=300)),
                ('pregunta', models.TextField()),
                ('estado', models.CharField(choices=[('abierta', 'Abierta'), ('resuelta', 'Resuelta'), ('cerrada', 'Cerrada')], default='abierta', max_length=20)),
                ('es_publica', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('leccion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='consultas_foro', to='api_lms.leccion')),
            ],
            options={
                'verbose_name': 'Consulta de Foro',
                'verbose_name_plural': 'Consultas de Foro',
                'db_table': 'foro_consultas',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Modulo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=200)),
                ('descripcion', models.TextField(blank=True)),
                ('objetivos', models.TextField(blank=True)),
                ('orden', models.IntegerField()),
                ('codigo_modulo', models.CharField(blank=True, max_length=50)),
                ('horas_estimadas', models.IntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('publicado', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('curso', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='modulos', to='api_lms.curso')),
            ],
            options={
                'verbose_name': 'Módulo',
                'verbose_name_plural': 'Módulos',
                'db_table': 'modulos',
                'ordering': ['orden'],
            },
        ),
        migrations.AddField(
            model_name='leccion',
            name='modulo',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lecciones', to='api_lms.modulo'),
        ),
        migrations.AddField(
            model_name='evaluacion',
            name='modulo',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='evaluaciones', to='api_lms.modulo'),
        ),
        migrations.CreateModel(
            name='Pregunta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('enunciado', models.TextField()),
                ('imagen_url', models.URLField(blank=True, max_length=500)),
                ('tipo', models.CharField(choices=[('seleccion_multiple', 'Selección Múltiple'), ('verdadero_falso', 'Verdadero/Falso'), ('completar', 'Completar'), ('desarrollo', 'Desarrollo'), ('matching', 'Emparejamiento')], max_length=20)),
                ('opciones', models.JSONField(blank=True, default=dict)),
                ('respuesta_correcta', models.TextField(blank=True)),
                ('puntaje', models.DecimalField(decimal_places=2, default=1.0, max_digits=5)),
                ('orden', models.IntegerField()),
                ('feedback_correcto', models.TextField(blank=True)),
                ('feedback_incorrecto', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('evaluacion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='preguntas', to='api_lms.evaluacion')),
            ],
            options={
                'verbose_name': 'Pregunta',
                'verbose_name_plural': 'Preguntas',
                'db_table': 'preguntas',
                'ordering': ['orden'],
            },
        ),
        migrations.CreateModel(
            name='ProgresoLeccion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('completada', models.BooleanField(default=False)),
                ('porcentaje_avance', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('tiempo_total_minutos', models.IntegerField(default=0)),
                ('fecha_inicio', models.DateTimeField(blank=True, null=True)),
                ('fecha_completado', models.DateTimeField(blank=True, null=True)),
                ('ultima_actividad', models.DateTimeField(blank=True, null=True)),
                ('total_visitas', models.IntegerField(default=0)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('inscripcion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progreso_lecciones', to='api_lms.inscripcion')),
                ('leccion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progresos', to='api_lms.leccion')),
            ],
            options={
                'verbose_name': 'Progreso de Lección',
                'verbose_name_plural': 'Progresos de Lecciones',
                'db_table': 'progreso_leccion',
            },
        ),
        migrations.CreateModel(
            name='ProgresoModulo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('porcentaje_avance', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('completado', models.BooleanField(default=False)),
                ('tiempo_total_minutos', models.IntegerField(default=0)),
                ('fecha_inicio', models.DateTimeField(blank=True, null=True)),
                ('fecha_fin', models.DateTimeField(blank=True, null=True)),
                ('nota_modulo', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('estado_sence', models.IntegerField(choices=[(1, 'En curso'), (2, 'Completado')], default=1)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('inscripcion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progreso_modulos', to='api_lms.inscripcion')),
                ('modulo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progresos', to='api_lms.modulo')),
            ],
            options={
                'verbose_name': 'Progreso de Módulo',
                'verbose_name_plural': 'Progresos de Módulos',
                'db_table': 'progreso_modulo',
            },
        ),
        migrations.CreateModel(
            name='RespuestaEstudiante',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('respuesta_texto', models.TextField(blank=True)),
                ('respuesta_seleccionada', models.IntegerField(blank=True, null=True)),
                ('respuestas_multiples', django.contrib.postgres.fields.ArrayField(base_field=models.IntegerField(), blank=True, default=list, size=None)),
                ('correcta', models.BooleanField(blank=True, null=True)),
                ('puntaje_obtenido', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('respondida_at', models.DateTimeField(auto_now_add=True)),
                ('intento', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='respuestas', to='api_lms.intentoevaluacion')),
                ('pregunta', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='respuestas_dadas', to='api_lms.pregunta')),
            ],
            options={
                'verbose_name': 'Respuesta de Estudiante',
                'verbose_name_plural': 'Respuestas de Estudiantes',
                'db_table': 'respuestas_estudiante',
            },
        ),
        migrations.CreateModel(
            name='Usuario',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rut_numero', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(99999999)])),
                ('rut_dv', models.CharField(max_length=1)),
                ('nombres', models.CharField(max_length=100)),
                ('apellido_paterno', models.CharField(max_length=100)),
                ('apellido_materno', models.CharField(max_length=100)),
                ('fecha_nacimiento', models.DateField(blank=True, null=True)),
                ('genero', models.CharField(blank=True, choices=[('M', 'Masculino'), ('F', 'Femenino'), ('O', 'Otro'), ('N', 'Prefiero no especificar')], max_length=1)),
                ('telefono', models.CharField(blank=True, max_length=20)),
                ('telefono_emergencia', models.CharField(blank=True, max_length=20)),
                ('direccion', models.TextField(blank=True)),
                ('comuna', models.CharField(blank=True, max_length=100)),
                ('region', models.CharField(blank=True, max_length=100)),
                ('nivel_educacional', models.CharField(blank=True, max_length=50)),
                ('profesion', models.CharField(blank=True, max_length=100)),
                ('empresa_actual', models.CharField(blank=True, max_length=200)),
                ('cargo_actual', models.CharField(blank=True, max_length=100)),
                ('tipo_usuario', models.CharField(choices=[('administrador', 'Administrador'), ('relator', 'Relator'), ('estudiante', 'Estudiante')], max_length=20)),
                ('avatar_url', models.URLField(blank=True, max_length=500)),
                ('activo', models.BooleanField(default=True)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True)),
                ('ultima_actualizacion', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='perfil', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Usuario',
                'verbose_name_plural': 'Usuarios',
                'db_table': 'usuarios',
            },
        ),
        migrations.CreateModel(
            name='SolicitudTercerIntento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('justificacion', models.TextField()),
                ('documentos_adjuntos', django.contrib.postgres.fields.ArrayField(base_field=models.URLField(), blank=True, default=list, size=None)),
                ('estado', models.CharField(choices=[('pendiente', 'Pendiente'), ('aprobada', 'Aprobada'), ('rechazada', 'Rechazada')], default='pendiente', max_length=20)),
                ('fecha_revision', models.DateTimeField(blank=True, null=True)),
                ('comentarios_revision', models.TextField(blank=True)),
                ('solicitado_at', models.DateTimeField(auto_now_add=True)),
                ('evaluacion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='solicitudes_tercer_intento', to='api_lms.evaluacion')),
                ('estudiante', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='solicitudes_tercer_intento', to='api_lms.usuario')),
                ('revisado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='solicitudes_revisadas', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Solicitud de Tercer Intento',
                'verbose_name_plural': 'Solicitudes de Tercer Intento',
                'db_table': 'solicitudes_tercer_intento',
            },
        ),
        migrations.CreateModel(
            name='SesionSence',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('id_sesion_otec', models.CharField(max_length=149, unique=True)),
                ('id_sesion_sence', models.CharField(blank=True, max_length=149)),
                ('fecha_inicio', models.DateTimeField(blank=True, null=True)),
                ('fecha_cierre', models.DateTimeField(blank=True, null=True)),
                ('duracion_minutos', models.IntegerField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('iniciando', 'Iniciando'), ('activa', 'Activa'), ('cerrando', 'Cerrando'), ('cerrada', 'Cerrada'), ('error', 'Error')], default='iniciando', max_length=20)),
                ('zona_horaria_inicio', models.CharField(blank=True, max_length=100)),
                ('zona_horaria_cierre', models.CharField(blank=True, max_length=100)),
                ('codigo_error', models.IntegerField(blank=True, null=True)),
                ('mensaje_error', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('curso', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sesiones_sence', to='api_lms.curso')),
                ('inscripcion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sesiones_sence', to='api_lms.inscripcion')),
                ('estudiante', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sesiones_sence', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Sesión SENCE',
                'verbose_name_plural': 'Sesiones SENCE',
                'db_table': 'sesiones_sence',
            },
        ),
        migrations.CreateModel(
            name='RespuestaEncuesta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('respuestas', models.JSONField()),
                ('completada_at', models.DateTimeField(auto_now_add=True)),
                ('encuesta', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='respuestas', to='api_lms.encuesta')),
                ('inscripcion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='respuestas_encuesta', to='api_lms.inscripcion')),
                ('estudiante', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='respuestas_encuesta', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Respuesta de Encuesta',
                'verbose_name_plural': 'Respuestas de Encuestas',
                'db_table': 'respuestas_encuesta',
            },
        ),
        migrations.CreateModel(
            name='PerfilRelator',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('especialidad', models.CharField(blank=True, max_length=100)),
                ('areas_experiencia', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=100), blank=True, default=list, size=None)),
                ('certificaciones', models.JSONField(blank=True, default=dict)),
                ('anos_experiencia', models.IntegerField(blank=True, null=True)),
                ('cv_url', models.URLField(blank=True, max_length=500)),
                ('calificacion_promedio', models.DecimalField(decimal_places=2, default=0.0, max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(7)])),
                ('total_cursos_dictados', models.IntegerField(default=0)),
                ('total_estudiantes_capacitados', models.IntegerField(default=0)),
                ('verificado', models.BooleanField(default=False)),
                ('fecha_verificacion', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('usuario', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='perfil_relator', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Perfil de Relator',
                'verbose_name_plural': 'Perfiles de Relatores',
                'db_table': 'perfil_relator',
            },
        ),
        migrations.CreateModel(
            name='Notificacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('material_aprobado', 'Material Aprobado'), ('material_rechazado', 'Material Rechazado'), ('nueva_evaluacion', 'Nueva Evaluación Disponible'), ('evaluacion_validada', 'Evaluación Validada'), ('mensaje_foro', 'Nuevo Mensaje en Foro'), ('curso_proximo', 'Curso Próximo a Iniciar'), ('diploma_listo', 'Diploma Listo'), ('sesion_sence_error', 'Error en Sesión SENCE'), ('general', 'General')], max_length=50)),
                ('titulo', models.CharField(max_length=200)),
                ('mensaje', models.TextField()),
                ('url_accion', models.URLField(blank=True, max_length=500)),
                ('leida', models.BooleanField(default=False)),
                ('fecha_leida', models.DateTimeField(blank=True, null=True)),
                ('prioridad', models.CharField(choices=[('baja', 'Baja'), ('normal', 'Normal'), ('alta', 'Alta'), ('urgente', 'Urgente')], default='normal', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notificaciones', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Notificación',
                'verbose_name_plural': 'Notificaciones',
                'db_table': 'notificaciones',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MetricaHistorica',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('progreso_estudiante', 'Progreso de Estudiante'), ('estadisticas_curso', 'Estadísticas de Curso'), ('actividad_plataforma', 'Actividad de Plataforma'), ('desempeño_relator', 'Desempeño de Relator')], max_length=50)),
                ('datos', models.JSONField()),
                ('snapshot_fecha', models.DateTimeField(default=django.utils.timezone.now)),
                ('periodo', models.CharField(blank=True, choices=[('diario', 'Diario'), ('semanal', 'Semanal'), ('mensual', 'Mensual')], max_length=20)),
                ('curso', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='metricas_historicas', to='api_lms.curso')),
                ('estudiante', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='metricas_historicas', to='api_lms.usuario')),
                ('relator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='metricas_relator', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Métrica Histórica',
                'verbose_name_plural': 'Métricas Históricas',
                'db_table': 'metricas_historicas',
                'ordering': ['-snapshot_fecha'],
            },
        ),
        migrations.CreateModel(
            name='Material',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=300)),
                ('descripcion', models.TextField(blank=True)),
                ('tipo', models.CharField(choices=[('video', 'Video'), ('pdf', 'PDF'), ('presentacion', 'Presentación'), ('documento', 'Documento'), ('imagen', 'Imagen'), ('enlace', 'Enlace'), ('scorm', 'SCORM'), ('otro', 'Otro')], max_length=20)),
                ('archivo_url', models.URLField(blank=True, max_length=500)),
                ('archivo_size', models.BigIntegerField(blank=True, null=True)),
                ('archivo_hash', models.CharField(blank=True, max_length=64)),
                ('duracion_segundos', models.IntegerField(blank=True, null=True)),
                ('total_paginas', models.IntegerField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('pendiente', 'Pendiente'), ('en_revision', 'En Revisión'), ('aprobado', 'Aprobado'), ('rechazado', 'Rechazado'), ('cambios_solicitados', 'Cambios Solicitados')], default='pendiente', max_length=20)),
                ('fecha_revision', models.DateTimeField(blank=True, null=True)),
                ('comentarios_revision', models.TextField(blank=True)),
                ('tags', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=50), blank=True, default=list, size=None)),
                ('categoria', models.CharField(blank=True, max_length=100)),
                ('reutilizable', models.BooleanField(default=True)),
                ('total_usos', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('relator_autor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='materiales_creados', to='api_lms.usuario')),
                ('revisado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='materiales_revisados', to='api_lms.usuario')),
                ('subido_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='materiales_subidos', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Material',
                'verbose_name_plural': 'Materiales',
                'db_table': 'materiales',
            },
        ),
        migrations.CreateModel(
            name='LogEnvioSence',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_envio', models.DateTimeField(auto_now_add=True)),
                ('id_proceso', models.IntegerField(blank=True, null=True)),
                ('exitoso', models.BooleanField(default=False)),
                ('total_alumnos_enviados', models.IntegerField(default=0)),
                ('total_errores', models.IntegerField(default=0)),
                ('respuesta_completa', models.JSONField(default=dict)),
                ('errores_detalle', models.JSONField(blank=True, default=dict)),
                ('curso', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='logs_envio_sence', to='api_lms.curso')),
                ('enviado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Log de Envío SENCE',
                'verbose_name_plural': 'Logs de Envíos SENCE',
                'db_table': 'logs_envio_sence',
                'ordering': ['-fecha_envio'],
            },
        ),
        migrations.AddField(
            model_name='intentoevaluacion',
            name='estudiante',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mis_intentos', to='api_lms.usuario'),
        ),
        migrations.AddField(
            model_name='intentoevaluacion',
            name='validado_por',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='intentos_validados', to='api_lms.usuario'),
        ),
        migrations.AddField(
            model_name='inscripcion',
            name='estudiante',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mis_inscripciones', to='api_lms.usuario'),
        ),
        migrations.CreateModel(
            name='ForoRespuesta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('respuesta', models.TextField()),
                ('es_solucion', models.BooleanField(default=False)),
                ('archivos_adjuntos', django.contrib.postgres.fields.ArrayField(base_field=models.URLField(), blank=True, default=list, size=None)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('consulta', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='respuestas', to='api_lms.foroconsulta')),
                ('autor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='respuestas_foro', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Respuesta de Foro',
                'verbose_name_plural': 'Respuestas de Foro',
                'db_table': 'foro_respuestas',
                'ordering': ['created_at'],
            },
        ),
        migrations.AddField(
            model_name='foroconsulta',
            name='estudiante',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='consultas_foro', to='api_lms.usuario'),
        ),
        migrations.AddField(
            model_name='evaluacion',
            name='creado_por',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='api_lms.usuario'),
        ),
        migrations.CreateModel(
            name='CursoRelator',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('especialidad', models.CharField(blank=True, max_length=100)),
                ('rol', models.CharField(choices=[('coordinador', 'Coordinador'), ('docente', 'Docente'), ('asistente', 'Asistente')], default='docente', max_length=50)),
                ('activo', models.BooleanField(default=True)),
                ('fecha_asignacion', models.DateTimeField(auto_now_add=True)),
                ('fecha_desasignacion', models.DateTimeField(blank=True, null=True)),
                ('curso', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='asignaciones_relator', to='api_lms.curso')),
                ('relator', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cursos_asignados', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Asignación Curso-Relator',
                'verbose_name_plural': 'Asignaciones Curso-Relator',
                'db_table': 'curso_relator',
            },
        ),
        migrations.AddField(
            model_name='curso',
            name='creado_por',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cursos_creados', to='api_lms.usuario'),
        ),
        migrations.CreateModel(
            name='ConfiguracionUsuario',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notif_email', models.BooleanField(default=True)),
                ('notif_push', models.BooleanField(default=True)),
                ('notif_sms', models.BooleanField(default=False)),
                ('tema', models.CharField(choices=[('light', 'Claro'), ('dark', 'Oscuro'), ('auto', 'Automático')], default='light', max_length=20)),
                ('idioma', models.CharField(default='es', max_length=5)),
                ('zona_horaria', models.CharField(default='America/Santiago', max_length=50)),
                ('perfil_publico', models.BooleanField(default=False)),
                ('mostrar_progreso', models.BooleanField(default=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('usuario', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='configuracion', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Configuración de Usuario',
                'verbose_name_plural': 'Configuraciones de Usuarios',
                'db_table': 'configuracion_usuario',
            },
        ),
        migrations.CreateModel(
            name='AuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(max_length=100)),
                ('entidad_tipo', models.CharField(blank=True, max_length=50)),
                ('entidad_id', models.BigIntegerField(blank=True, null=True)),
                ('descripcion', models.TextField(blank=True)),
                ('datos_anteriores', models.JSONField(blank=True, default=dict)),
                ('datos_nuevos', models.JSONField(blank=True, default=dict)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('usuario', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='acciones_auditoria', to='api_lms.usuario')),
            ],
            options={
                'verbose_name': 'Log de Auditoría',
                'verbose_name_plural': 'Logs de Auditoría',
                'db_table': 'audit_log',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='LeccionMaterial',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('orden', models.IntegerField()),
                ('proposito', models.CharField(blank=True, choices=[('video_intro', 'Video de Introducción'), ('contenido_principal', 'Contenido Principal'), ('material_apoyo', 'Material de Apoyo'), ('evaluacion', 'Evaluación')], max_length=50)),
                ('obligatorio', models.BooleanField(default=True)),
                ('asignado_at', models.DateTimeField(auto_now_add=True)),
                ('leccion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='materiales_asignados', to='api_lms.leccion')),
                ('material', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lecciones_asignadas', to='api_lms.material')),
            ],
            options={
                'verbose_name': 'Material de Lección',
                'verbose_name_plural': 'Materiales de Lecciones',
                'db_table': 'leccion_material',
                'ordering': ['orden'],
                'indexes': [models.Index(fields=['leccion'], name='leccion_mat_leccion_3cdca8_idx'), models.Index(fields=['material'], name='leccion_mat_materia_3817ed_idx')],
                'unique_together': {('leccion', 'orden')},
            },
        ),
        migrations.CreateModel(
            name='ActividadEstudiante',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_actividad', models.CharField(choices=[('inicio_leccion', 'Inicio de Lección'), ('fin_leccion', 'Fin de Lección'), ('reproduccion_video', 'Reproducción de Video'), ('descarga_material', 'Descarga de Material'), ('participacion_foro', 'Participación en Foro'), ('inicio_evaluacion', 'Inicio de Evaluación'), ('fin_evaluacion', 'Fin de Evaluación')], max_length=50)),
                ('timestamp_inicio', models.DateTimeField(default=django.utils.timezone.now)),
                ('timestamp_fin', models.DateTimeField(blank=True, null=True)),
                ('duracion_segundos', models.IntegerField(blank=True, null=True)),
                ('metadata', models.JSONField(blank=True, default=dict)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('inscripcion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='actividades', to='api_lms.inscripcion')),
                ('leccion', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='api_lms.leccion')),
                ('material', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='api_lms.material')),
            ],
            options={
                'verbose_name': 'Actividad de Estudiante',
                'verbose_name_plural': 'Actividades de Estudiantes',
                'db_table': 'actividad_estudiante',
                'indexes': [models.Index(fields=['inscripcion'], name='actividad_e_inscrip_ab17a0_idx'), models.Index(fields=['timestamp_inicio'], name='actividad_e_timesta_7a85c4_idx'), models.Index(fields=['tipo_actividad'], name='actividad_e_tipo_ac_14fafd_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='modulo',
            index=models.Index(fields=['curso'], name='modulos_curso_i_1278bd_idx'),
        ),
        migrations.AddIndex(
            model_name='modulo',
            index=models.Index(fields=['curso', 'orden'], name='modulos_curso_i_5df3fa_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='modulo',
            unique_together={('curso', 'orden')},
        ),
        migrations.AddIndex(
            model_name='leccion',
            index=models.Index(fields=['modulo'], name='lecciones_modulo__a140bb_idx'),
        ),
        migrations.AddIndex(
            model_name='leccion',
            index=models.Index(fields=['modulo', 'orden'], name='lecciones_modulo__230921_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='leccion',
            unique_together={('modulo', 'orden')},
        ),
        migrations.AddIndex(
            model_name='pregunta',
            index=models.Index(fields=['evaluacion'], name='preguntas_evaluac_9bb2f4_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='pregunta',
            unique_together={('evaluacion', 'orden')},
        ),
        migrations.AddIndex(
            model_name='progresoleccion',
            index=models.Index(fields=['inscripcion'], name='progreso_le_inscrip_0b09a6_idx'),
        ),
        migrations.AddIndex(
            model_name='progresoleccion',
            index=models.Index(fields=['leccion'], name='progreso_le_leccion_b7a92d_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='progresoleccion',
            unique_together={('inscripcion', 'leccion')},
        ),
        migrations.AddIndex(
            model_name='progresomodulo',
            index=models.Index(fields=['inscripcion'], name='progreso_mo_inscrip_da9ef4_idx'),
        ),
        migrations.AddIndex(
            model_name='progresomodulo',
            index=models.Index(fields=['modulo'], name='progreso_mo_modulo__07128f_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='progresomodulo',
            unique_together={('inscripcion', 'modulo')},
        ),
        migrations.AddIndex(
            model_name='respuestaestudiante',
            index=models.Index(fields=['intento'], name='respuestas__intento_87d911_idx'),
        ),
        migrations.AddIndex(
            model_name='respuestaestudiante',
            index=models.Index(fields=['pregunta'], name='respuestas__pregunt_f2acc2_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='respuestaestudiante',
            unique_together={('intento', 'pregunta')},
        ),
        migrations.AddIndex(
            model_name='usuario',
            index=models.Index(fields=['tipo_usuario'], name='usuarios_tipo_us_3a6d09_idx'),
        ),
        migrations.AddIndex(
            model_name='usuario',
            index=models.Index(fields=['rut_numero', 'rut_dv'], name='usuarios_rut_num_d22155_idx'),
        ),
        migrations.AddIndex(
            model_name='usuario',
            index=models.Index(fields=['activo'], name='usuarios_activo_3d49ab_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='usuario',
            unique_together={('rut_numero', 'rut_dv')},
        ),
        migrations.AddIndex(
            model_name='solicitudtercerintento',
            index=models.Index(fields=['evaluacion'], name='solicitudes_evaluac_4ba202_idx'),
        ),
        migrations.AddIndex(
            model_name='solicitudtercerintento',
            index=models.Index(fields=['estudiante'], name='solicitudes_estudia_f6a229_idx'),
        ),
        migrations.AddIndex(
            model_name='solicitudtercerintento',
            index=models.Index(fields=['estado'], name='solicitudes_estado_4b3706_idx'),
        ),
        migrations.AddIndex(
            model_name='sesionsence',
            index=models.Index(fields=['inscripcion'], name='sesiones_se_inscrip_3aa615_idx'),
        ),
        migrations.AddIndex(
            model_name='sesionsence',
            index=models.Index(fields=['estudiante'], name='sesiones_se_estudia_04f361_idx'),
        ),
        migrations.AddIndex(
            model_name='sesionsence',
            index=models.Index(fields=['estado'], name='sesiones_se_estado_3dbf16_idx'),
        ),
        migrations.AddIndex(
            model_name='sesionsence',
            index=models.Index(fields=['fecha_inicio'], name='sesiones_se_fecha_i_101ade_idx'),
        ),
        migrations.AddIndex(
            model_name='respuestaencuesta',
            index=models.Index(fields=['encuesta'], name='respuestas__encuest_0bdcf0_idx'),
        ),
        migrations.AddIndex(
            model_name='respuestaencuesta',
            index=models.Index(fields=['inscripcion'], name='respuestas__inscrip_6851ba_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='respuestaencuesta',
            unique_together={('encuesta', 'inscripcion')},
        ),
        migrations.AddIndex(
            model_name='notificacion',
            index=models.Index(fields=['usuario'], name='notificacio_usuario_17ba4e_idx'),
        ),
        migrations.AddIndex(
            model_name='notificacion',
            index=models.Index(fields=['leida'], name='notificacio_leida_8f2b73_idx'),
        ),
        migrations.AddIndex(
            model_name='notificacion',
            index=models.Index(fields=['tipo'], name='notificacio_tipo_f5d897_idx'),
        ),
        migrations.AddIndex(
            model_name='notificacion',
            index=models.Index(fields=['created_at'], name='notificacio_created_dac937_idx'),
        ),
        migrations.AddIndex(
            model_name='metricahistorica',
            index=models.Index(fields=['tipo'], name='metricas_hi_tipo_42c826_idx'),
        ),
        migrations.AddIndex(
            model_name='metricahistorica',
            index=models.Index(fields=['snapshot_fecha'], name='metricas_hi_snapsho_1b6c51_idx'),
        ),
        migrations.AddIndex(
            model_name='metricahistorica',
            index=models.Index(fields=['estudiante'], name='metricas_hi_estudia_a80571_idx'),
        ),
        migrations.AddIndex(
            model_name='metricahistorica',
            index=models.Index(fields=['curso'], name='metricas_hi_curso_i_aaf7a7_idx'),
        ),
        migrations.AddIndex(
            model_name='material',
            index=models.Index(fields=['tipo'], name='materiales_tipo_987c4c_idx'),
        ),
        migrations.AddIndex(
            model_name='material',
            index=models.Index(fields=['estado'], name='materiales_estado_300c8e_idx'),
        ),
        migrations.AddIndex(
            model_name='material',
            index=models.Index(fields=['relator_autor'], name='materiales_relator_54e145_idx'),
        ),
        migrations.AddIndex(
            model_name='material',
            index=models.Index(fields=['archivo_hash'], name='materiales_archivo_bbaa6b_idx'),
        ),
        migrations.AddIndex(
            model_name='logenviosence',
            index=models.Index(fields=['curso'], name='logs_envio__curso_i_a2e311_idx'),
        ),
        migrations.AddIndex(
            model_name='logenviosence',
            index=models.Index(fields=['fecha_envio'], name='logs_envio__fecha_e_e56f0d_idx'),
        ),
        migrations.AddIndex(
            model_name='logenviosence',
            index=models.Index(fields=['exitoso'], name='logs_envio__exitoso_04bdea_idx'),
        ),
        migrations.AddIndex(
            model_name='intentoevaluacion',
            index=models.Index(fields=['evaluacion'], name='intentos_ev_evaluac_b5f191_idx'),
        ),
        migrations.AddIndex(
            model_name='intentoevaluacion',
            index=models.Index(fields=['estudiante'], name='intentos_ev_estudia_7c7618_idx'),
        ),
        migrations.AddIndex(
            model_name='intentoevaluacion',
            index=models.Index(fields=['inscripcion'], name='intentos_ev_inscrip_77c62e_idx'),
        ),
        migrations.AddIndex(
            model_name='intentoevaluacion',
            index=models.Index(fields=['estado'], name='intentos_ev_estado_93ebae_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='intentoevaluacion',
            unique_together={('evaluacion', 'estudiante', 'numero_intento')},
        ),
        migrations.AddIndex(
            model_name='inscripcion',
            index=models.Index(fields=['curso'], name='inscripcion_curso_i_6bcc9d_idx'),
        ),
        migrations.AddIndex(
            model_name='inscripcion',
            index=models.Index(fields=['estudiante'], name='inscripcion_estudia_14f040_idx'),
        ),
        migrations.AddIndex(
            model_name='inscripcion',
            index=models.Index(fields=['estado'], name='inscripcion_estado_2dcf3d_idx'),
        ),
        migrations.AddIndex(
            model_name='inscripcion',
            index=models.Index(fields=['fecha_inscripcion'], name='inscripcion_fecha_i_1ef706_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='inscripcion',
            unique_together={('curso', 'estudiante')},
        ),
        migrations.AddIndex(
            model_name='fororespuesta',
            index=models.Index(fields=['consulta'], name='foro_respue_consult_f2795d_idx'),
        ),
        migrations.AddIndex(
            model_name='fororespuesta',
            index=models.Index(fields=['autor'], name='foro_respue_autor_i_ee2f36_idx'),
        ),
        migrations.AddIndex(
            model_name='foroconsulta',
            index=models.Index(fields=['leccion'], name='foro_consul_leccion_c82c7d_idx'),
        ),
        migrations.AddIndex(
            model_name='foroconsulta',
            index=models.Index(fields=['estudiante'], name='foro_consul_estudia_549932_idx'),
        ),
        migrations.AddIndex(
            model_name='foroconsulta',
            index=models.Index(fields=['estado'], name='foro_consul_estado_1ac853_idx'),
        ),
        migrations.AddIndex(
            model_name='evaluacion',
            index=models.Index(fields=['curso'], name='evaluacione_curso_i_e2fb40_idx'),
        ),
        migrations.AddIndex(
            model_name='evaluacion',
            index=models.Index(fields=['modulo'], name='evaluacione_modulo__aaf9e5_idx'),
        ),
        migrations.AddIndex(
            model_name='evaluacion',
            index=models.Index(fields=['tipo'], name='evaluacione_tipo_5708bc_idx'),
        ),
        migrations.AddIndex(
            model_name='cursorelator',
            index=models.Index(fields=['curso'], name='curso_relat_curso_i_2d0c0e_idx'),
        ),
        migrations.AddIndex(
            model_name='cursorelator',
            index=models.Index(fields=['relator'], name='curso_relat_relator_911df4_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='cursorelator',
            unique_together={('curso', 'relator')},
        ),
        migrations.AddIndex(
            model_name='curso',
            index=models.Index(fields=['estado'], name='cursos_estado_730766_idx'),
        ),
        migrations.AddIndex(
            model_name='curso',
            index=models.Index(fields=['codigo_sence'], name='cursos_codigo__2cf8ab_idx'),
        ),
        migrations.AddIndex(
            model_name='curso',
            index=models.Index(fields=['fecha_inicio', 'fecha_fin'], name='cursos_fecha_i_7b2690_idx'),
        ),
        migrations.AddIndex(
            model_name='curso',
            index=models.Index(fields=['publicado'], name='cursos_publica_1585dd_idx'),
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['usuario'], name='audit_log_usuario_5aa78d_idx'),
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['entidad_tipo', 'entidad_id'], name='audit_log_entidad_7c7b6e_idx'),
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['created_at'], name='audit_log_created_5a7975_idx'),
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['accion'], name='audit_log_accion_92f925_idx'),
        ),
    ]
